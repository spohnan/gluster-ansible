type: storage
gce_tags: [ ]
# To support idempotent playbook calls with GCE where server names are immutable the default server names
# are generated from cluster prefix, server type label and cluster count index which is hashed to give a unique-ish suffix
server_names: |
                {% set comma = joiner(",") %}
                {% for s in range(0, server_count) -%}
                  {{comma()}}{{ cluster_prefix }}-{{ type }}-{{ [s|string, type, cluster_prefix] | join('') | hash('sha1')|string | truncate(6, false, '')}}
                {%- endfor %}